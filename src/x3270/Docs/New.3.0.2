x3270 Version 3.0.2 -- New Features and Bug Fixes

x3270 3.0.2 is a consolidation of all of the patch releases of 3.0.1 (3.0.1.1,
3.0.1.2 and 3.0.1.3), plus some additional bug fixes and a number of new
features.

New Features

* Debug Font

    A new font, 3270d, is now supplied.  It may be specified from the command
line, or selected with the new Debug Font option on the Options menu.  The
debug font is similar to the standard 3270 font, but it has bitmaps defined for
3270 field attributes.  This means that field attributes, which are normally
displayed as blanks, are now visible on the screen.

    The displayed attributes are hexadecimal codes; a translation table to map
these onto attributes (highlighted, selectable, protected, etc.) is supplied
in a separate document, "FieldAttrs".

* Playback Mode

   The output from the Trace TELNET option, if captured in a file, can now be
"played back" into x3270 as if it came from a host.  This can be used to debug
host applications or x3270 itself.

   A playback filename is specified as if it were a hostname, but with a "p:"
prepended, e.g., if the trace was saved in the file /tmp/foo, you could play
that file back by running:

	x3270 p:/tmp/foo

    Since you are not really interacting with a host, a new action,
PlaybackStep (usually bound to Meta-s) is used to read the next command from
the playback file.

* Trace Pop-Up

    Data stream tracing no longer goes to standard output; instead, it is
appended to the file /usr/tmp/x3trc.<pid>.  In addition, when tracing is
enabled, a window pops up to monitor the trace information.

* PF and PA Keys in Strings

    The String action has been extended to allow PF and PA keys in your
strings.  As before with with ENTER and CLEAR keys (specified with \n and \f,
respectively), x3270 waits until the host unlocks the keyboard before further
processing the string argument.

    PF keys are specified as \pfn, where "n" is a 1- or 2-digit number; PA keys
are specified as \pan.  For example, if you wanted to create a key that entered
"HELLO" into the current field, entered PF1, then tabbed to the second field,
entered "THERE" and pressed ENTER, you could specify the keymap:

	Meta<Key>h:     string("HELLO\\pf1\tTHERE\n")\n\

    Note that you must double the backslash before the "p", so it is not lost
when the resources are read in.

* WM_SAVE_YOURSELF

    x3270 now supports the WM_SAVE_YOURSELF message, and updates its WM_COMMAND
property in response.  This means that x3270 now cooperates with olwm's Save
Desktop function (actually the owplaces(1) command), and will later reappear in
(nearly) the same configuration as when it was saved.

* Limited Extended Field Support

    x3270 now supports (or successfully ignores) the various 3270 orders
associated with extended fields (SFE, SA, MF).  Support is limited to the
standard 3270 attributes, that is, x3270 still doesn't support color or field
outlining, but if a host uses Extended Field syntax to specify the 3270
attributes of a field (protected, highlighted, invisible, etc.), x3270 will
interpret it correctly.

    Support for color and extended field attributes is planned in the near
future.  Support for graphics is probably a long way off.

* Scroll Bar

    x3270 now supports a scroll bar, using most of the same command-line
options and resources as xterm.  The scroll bar functions only in ANSI mode,
and can be turned on and off from the Options menu.

* Blank Fill Mode

    A new menu option enables "Blank Fill Mode", which attempts to make x3270
a little friendlier to non-experts.  In blank fill mode, leading nulls in
modified fields are replaced with blanks, and trailing blanks are treated as
nulls in insert mode.  This eliminates two common sources of surprise and
frustration when using real 3270s.

Bug Fixes Since v3.0.1.3

* Hitting CLEAR, RESET and an AID key (often when talking to a dead host)
  would cause a tight loop.

* The cursor keys and mouse buttons didn't work with Caps Lock down.

* Two of the PF keys on the pop-up keypad were swapped.

* Overflowing the input buffer in Telnet line mode could cause crashes.

* Writing into the last few columns of a Model 5 display could cause crashes.

* The default field attribute was wrong for ASCII-front-ended hosts.

* Running x3270 under any other name but "x3270" caused magnificent disasters.

* When an ASCII-front-ended host negotiated to resume operating in ANSI mode,
  x3270 disconnected.

Changes Since v3.0.2 Alpha

* Yet more lint removed.

* Implemented a separate 'info' pop-up.

* Added pop-ups before and after screen printing.

* Added menu options for screen printing.

* Eliminated hangs when disconnecting from half-connected hosts on Solaris 2.

* Eliminated garbage in the input buffer when shifting back to ANSI mode.

* Fixed HP #ifdef in Imakefile.

* Added default Shift-Return definition for Newline function (for keyboards
  with no Linefeed key).

* Added System V versions of print commands.

* Added hp-pc and sun-k5 keymaps.

* Fixed various misbehaviors with null hostnames.

* Fixed numerous minor problems with tracing and playback files.

* Added explicit font targets to Makefile.openwin.

* Fixed problem where the cursor would disappear mysteriously.

* Added KP_n definitions to the sun-k4 and sun-k5 keymaps.

* Put 'Insert' and 'Delete' into the default translation table.

* Implemented a screen save / screen trace facility.

* Implemented a Macros menu.

* Figured out how to put F11 and F12 into the sun-k4 keymap, and eliminated the
  strange r4k4 and r5k4 keymap modifiers.

* Implemented a simple scripting facility.

* Fixed protocol interpretation problems with Graphics Escape sequences.

* Added -trace switch to turn on data stream tracing at startup.

* Fixed a problem with the interaction of -iconic and -xrm '*keypadOn: true'
  under olwm.

* Changed the three explicit font menu options and names to a single fontList
  resource.

* Implemented xterm's unusual behavior when wrapping lines.

* Added Charset document to explain the funny font ordering.

Changes Since v3.0.2.1

* Corrected the colors of some of the pop-ups.

* Documented the fact that Makefile.openwin must be run with Sun make (not
  Gnu make).

* Fixed the man page to reflect a more accurate path for ibm_hosts.

* Fixed for the monocase translation tables, which did a poor job on accented
  characters.

* Added Meta-e as the EraseEOF key to the default and alt keymaps.

* Removed some lint from arrow.bm.

* Corrected man page errors: wrong description of the "ow" keymap modifier,
  and wrong path for ibm_hosts.

* Documented the "(Encoding: unknown)" messages from bldfamily; there appears
  to be no way to eliminate them.

* Modified Makefile.aux so that the tar file it produces places everything in
  a subdirectory, rather than in the current directory.

* Allowed Makefile.openwin to install in a different directory by setting
  INSTDIR on the command line.

* Removed F35 from the sun-k5 keymap (it shouldn't have been there in the
  first place), and changed the norwegian7 keymap modifier to use the correct
  case with the Shift key.

* Added logic so that if the printTextCommand or printWindowCommand begins
  with '@', skip the pop-ups.

* Fixed conflict between extending the select area and moving the cursor.

* Fixed memory allocation problems with the scroll save area.

* Put some real intelligence into continuous screen tracing.

* Allowed multiple actions in macros, and added some easy script functions:
    Execute(cmd)
    PauseScript
    ContinueScript(keyword)

Changes Since v3.0.2.2

* Fixed crash in ANSI mode with no scrollbar.

Changes Since v3.0.2.3

* Fixed popup windows that can't be dismissed (bug #304).

* Cleaned up a little lint (bug #305).

* Now recover from colormap allocation failures by backing off to monochrome
  mode (bug #303).

* Fixed problem with fonts with descenders greater than 6, which overwrote the
  status line.  This was necessary to use the new Georgia Tech fonts.

* Allowed for more flexible definitions of telcmds and telopts, as on SGI (bug
  #306).

* Used proper comment format in the Imakefile (bug #302).

* Added fixes for building on RS/6000 AIX 3.2 X11R5 (bug #301).

* Added .gz target to Makefile.aux, for smaller images.

* Added version information and timestamps to the trace file.

* Advertised the new e-mail address, and asked for a little more help with each
  message.

* Changed Makefile.openwin for Solaris 2.1 and 2.2.

Changes Since v3.0.2.4

* Fixed a problem with cursor-left key from position (0,0) (bug #309).

* Fixed compiler objections to using pointers as logical variables (bug #310).

* Fixed compile errors on Sequent (bug #311).

* Being more careful with data types for port numbers.  Addresses, but does
  not fix bug #312.

* Documented an X11R4 version of the printWindowCommand.

* Got permissions right in Makefile.openwin, if umask is conservative (bug
  #313).

* Added information to the build instructions for Solaris 2.3 (bug #314).

* Fixed misinterpretation of empty input buffers from the network (bug #315).

* Added an explicit "-iconname" switch.

* Added keymap for IBM X Terminal (ibm-xterm).

* Fixed crashes when an integral keypad is turned on without a scrollbar.
