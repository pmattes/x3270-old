<HTML>
<TITLE>x3270 Version 3.0.3 -- New Features and Bug Fixes</TITLE>

<H1>x3270 Version 3.0.3 -- New Features and Bug Fixes</H1>

x3270 3.0.3 is a consolidation of all of the patch releases of 3.0.2, plus some
additional bug fixes and a number of new features.

<H2>New Features</H2>

<H3>Color <I>(requested by many)</I></H3>
x3270 now supports the color protocol used by the 3279 terminal.  The
option "-color" turns on full color (as does setting the resource
"x3270.m3279" to "true").
<P>In ANSI mode, foreground color can be set using the ISO 6429 escape
sequences.
<P>
The actual X colors used for the 16 3270 colors are controlled by
resources:
<PRE>
    x3270.neutralBlackColor  (ANSI color 0)
    x3270.blueColor          (ANSI color 4)
    x3270.redColor           (ANSI color 1)
    x3270.pinkColor          (ANSI color 5)
    x3270.greenColor         (ANSI color 2)
    x3270.turquioseColor
    x3270.yellowColor        (ANSI color 3)
    x3270.neutralWhiteColor
    x3270.blackColor
    x3270.deepBlueColor
    x3270.orangeColor
    x3270.purpleColor
    x3270.paleGreenColor
    x3270.paleTurquoiseColor (ANSI color 6)
    x3270.greyColor
    x3270.whiteColor         (ANSI color 7)
</PRE>

<H3>Typeahead <I>(requested by many)</I></H3>
When the keyboard is locked because the host is busy processing a command,
you can type ahead.
The Reset key flushes the typeahead buffer.
<P>Typeahead can be disabled by setting the "x3270.typeahead" resource to
"true".

<H3>Support for Structured Fields and Query Reply <I>(requested by Sean Boran,
  Greg Boykin, Pat Lewallen and Simon Graham)</I></H3>
x3270 now supports the 3270 Write Structured Field command, including the
following Query Replies:
<PRE>
	Character Sets
	Implicit Partition
	Summary
	Usable Area
	Color
	Highlighting
</PRE>
It also supports the "reverse", "blink", "underline", and "intensify" extended
highlighting attributes.
<P>
x3270 should now be SAA compliant, supporting the Set Attribute and Modify
Field orders, and the Read Modified All command.
<P>
x3270 also implements the input-inhibit mode after processing a Query Reply.
<P>
Note: In order to use structured fields, the "-color" or "-extended" option must
be used.

<H3>ANSI SGR improvements</H3>
In ANSI mode, x3270 now supports more of the control sequences for
"set graphic rendition": bold, reverse video, blink and underline.  It
formerly interpreted all nonzero SGR sequences as bold.

<H3>Keymap and event debugging</H3>
Much of the function of the "xev" utility is now included in x3270.
Through a new menu option (Trace X Events), you can trace most of the
events processed by x3270, along with the actions taken.  This should be
helpful in debugging keymap problems.

<H3>"Wait" icon <I>(requested by Gary Speechley)</I></H3>
When x3270 is waiting for the host to unlock the keyboard, the icon
appears with a "watch" cursor overlaying it.

<H3>Better data stream traces</H3>
Data stream traces now contain longer mnemonics ("Write" instead of
"W") and more useful information.  They also begin with a complete dump
of the current state of x3270, so a trace can begin at any point in a
session.

<H3>Port parameter on command line</H3>
The port to connect to can now be specified as a second command-line
argument, or as a second word in the "Connect" dialog.  The "-port"
option (and x3270.port resource) still specify the default port to
use.
<P>
The hosts file can also specify ports.  Due to shortsightedness in
the original design of the file, the port must be specified with a
strange syntax: to specify a port, attach it to the hostname with
a slash, e.g., xxxhost/39.  (A better, but incompatible solution was
submitted by Simon Graham.)

<H3>No more '!' font convention</H3>
x3270 will now attempt to use any font, regardless of its encoding
and spacing properties.  This makes for fewer hassles with usable
but misnamed or misconfigured fonts, and for some interesting results
with other fonts.

<H3>GT fonts included</H3>
The Georgia Tech fonts, formerly distributed separately, are now
port of the standard distribution.

<H3>Window resizing by mouse <I>(requested by Mark Arquette and Wally Hunter)</I></H3>
The x3270 window can now be resized with the mouse (i.e., through the
X window manager).  If the window is enlarged, x3270 selects a larger
font, if possible, andf vice-versa.
<P>
The "x3270.resizeFontList" resource contains the list of fonts that
x3270 uses for resizing.
<P>
The "x3270.allowResize" resource (default true) controls whether or
not the window can be resized.  (If set to false, it keeps mwm from
limiting x3270 to windows that can fit on the screen.)

<H3>ModifiedSel resource <I>(submitted by Marc Aurele La France)</I></H3>
Previous versions of x3270 painted modified fields in the "select"
color.  This behavior is now turned off by default; to restore it,
set the "x3270.modifiedSel" resource to "true".

<H3>-set/-clear for toggles</H3>
Toggles (binary menu options) can now be easily set and cleared on
the command line.  The option "-set <togglename>" sets a toggle;
the option "-clear <togglename>" clears it.  The toggle names are
the same as the resource names for the toggles, and are listed on
the man page.

<H3>-iconx/-icony</H3>
The options "-iconx" and "-icony" can be used to specify the initial
coordinates of the x3270 icon.

<H3>Keypad follows moved main window</H3>
If the pop-up keypad is configured as "right" (the default) or "below",
it will now follow the main window around on the screen as it is moved.

<H3>Variable substitution in macro parameters <I>(requested by Svein Tjemsland)</I></H3>
The parameters to macros are now subject to variable substitution.
Strings of the form $X or ${X} will be substituted with values from
the environment.  A '$' can be quoted with a backslash, e.g., \$.

<H3>Tilde and variable substitution in file names <I>(requested by Svein Tjemsland)</I></H3>
File names specified in pop-ups (such as for trace files) are now
subject to variable substitution (as for macros, above) and tilde
substitution.  Tilde substitution replaces an initial "~" with the
user's home directory, or the string "~xxx" with the home directory
of user "xxx".

<H3>3270-mode paste will not wrap to the top of the screen <I>(requested by
  Svein Tjemsland)</I></H3>
Pasted text will no longer wrap back to the top of the screen.  If the
text overflows the bottom of the screen, additional pasted text will be
dropped.

<H3>"Left margin" option for 3270-mode paste <I>(requested by Robert Molenda and
Bjorn Lofgren)</I></H3>
Certain IBM editors use the fields on the left side of the screen for
control information, with the data areas to the right.  A new menu option
(Paste With Left Margin, toggle "marginedPaste") changes the behavior
of pasting so that the cursor acts as a left margin setting; no text will
be pasted into the area to the left of the cursor.

<H3>Word-select is now closer to xterm's</H3>
A double-click selects a "word" for pasting.  Words were formerly delimited
by white space; they are now also delimited by punctuation characters,
behaving more like xterm.

<H3>Can configure a separate cursor color <I>(submitted by Bob Cronin)</I></H3>
The color of the cursor can now be defined separately (rather than taking
on the color of the field under it).  Two resources control this,
"x3270.cursorColor", which defines the color, and "x3270.useCursorColor",
which when set to "true" enables the new behavior.

<H3>Can auto-reconnect to a single host (-reconnect) <I>(requested by Wayne Kempf)</I></H3>
A new "-reconnect" switch allows x3270 to be dedicated to a particular
host.  If "-reconnect" and a hostname is specified on the command line,
then x3270 will automatically reconnect to that host whenever the
TELNET connection is broken.

<H3>Sample Script Included</H3>
A ksh script, example.ksh, is now included with the distribution.  It
illustrates how to use the -script option to navigate past VM, VTAM and
TSO login screens.

<H3>Enter key on keypad <I>(requested by Dave Wilcox)</I></H3>
An Enter has been added to the vertical pop-up keypad.

<H3>Word tabs <I>(suggested by Marc Brett)</I></H3>
New actions have been added to word tabs, PreviousWord() and NextWord().

<H3>Per-host macros <I>(suggested by Lukas Fetz)</I></H3>
Resources can specify a different macros menu for each host.

<H3>Copyright messages</H3>
Copyright messages have been added to the "About x3270" pop-up.

<H3>Better lock indications</H3>
The keyboard lock indications on the status line now more accurately
reflect the actual state and cause of the keyboard lock.

<H3>Enter key dismisses pop-ups <I>(requested by John Baldi)</I></H3>
The Enter key can now be used to dismiss Info and Error pop-ups.

<H3>Can disable "noise" pop-ups <I>(requested by John Baldi)</I></H3>
A new "x3270.doConfirms" resource (default true) controls if the "OK"
pop-ups are presented after successful screen printing.

<H3>Numeric lock disable <I>(requested by kenw)</I></H3>
A new "x3270.numericLock" resource (default false) controls if the
"numeric" field attribute can lock the keyboard on bad data entry.
It turns out that most terminals don't enforce it, and there is no
way (yet) in x3270 to override it from the keyboard.

<H3>RS/6000 AZERTY keyboard enhancements <I>(requested and debugged by
Pierre-Jean Soubies-Camy)</I></H3>
A new "fr6k" keymap modifer allows the Circumflex and Diaeresis keys to
work on RS/6000 AZERTY keyboards.

<H3>Process and window IDs displayed <I>(requested by Robert Molenda)</I></H3>
The process and window IDs are now displayed on the "About x3270" pop-up.

<H3>Hypertext Documentation</H3>
All x3270 man pages and documents can now be browsed with a standard HTML
browser such as Mosaic.

<H3>Keymap() Action <I>(suggested by Matt Cohen)</I></H3>
Added a Keymap() action, similar to xterm's.

<H3>Hebrew Support <I>(requested by Roman Mitnitski, who also submitted the font)</I></H3>
Added support for right-to-left languages: flipped screen mode,
reverse-input-field mode, and overlaid 16-bit character sets.
Added a character set, font and temporary keymap for Hebrew.

<H3>Rectangular Ascii() and Ebcdic() <I>(requested by Bill Oliver)</I></H3>
Added a fourth parameter to the Ascii() and Ebcdic() actions, which
allow a rectangular screen area to be captured.

<H3>Execute an Action</H3>
Added an "Execute an Action" entry to the "File" menu, allowing
experimentation with actions without redefining keymaps.

<H3>Security Enhancements <I>(requested by a large contingent of users)</I></H3>
Added an "x3270.secure" resource to disable the "Execute an Action" option
and to keep users from editing the commands that x3270 executes.

<H3>Disabling "Other" Options <I>(requested by Bob Cronin)</I></H3>
Added an "x3270.noOther" resource to disable the "Other" menus for
host name and font selection.

<H3>Cut() Action <I>(requested by Svein Tjemsland) </I></H3>
Added a trivial "Cut" action (which simply erases the selected region).

<H3>Scrollbar Improvements</H3>
Scrollbars now work in 3270 mode.

<H3>a: Prefix is Gone</H3>
Eliminated the requirement for the "a:" prefix on ASCII-frontended
hosts, and improved the automatic switching between ANSI and 3270 modes.

<H3>Easier Operator Errors <I>(proposal submitted by Bob Cronin)</I></H3>
Added an "oerrLock" resource to control whether or not to lock the
keyboard after operator errors.

<H3>Variable Bell Volume <I>(requested by Dave Saville)</I></H3>
Added an "x3270.bellVolume" resource to control the volume of the
terminal bell.

<H3>set-select() Action</H3>
Added a "set-select()" similar to xterm's to improve (but not completely fix)
cut/paste interactions with OpenWindows clients.

<H3>Left-Handed Keypads <I>(requested by Dave Saville)</I></H3>
Added a "left" option for the keypad position.

<H3>Oversize Screens <I>(requested by Bob A. Kingman)</I></H3>
Added an "-oversize" option to support arbitrarily large screens.

<H3>TELNET NAWS</H3>
Added support for the TELNET NAWS (Negotiate About Window Size) option.

<H2>Bug Fixes Since v3.0.2.5</H2>

<H3>Better WM_SAVE_YOURSELF behavior</H3>
x3270 now does a much better job of saving its state in response to the
WM_SAVE_YOURSELF ICCM.  It formerly added unnecessary command-line
options and left out certain options that had been changed with menus.

<H3>Tighter command-line parsing</H3>
x3270 now produces more intellgent error messages in response to
command-line syntax errors.

<H3>Fixed cursor-hollowing on keypad</H3>
A resource definition error kept the hollowed-out cursor from filling back
in when the mouse entered the pop-up keypad.

<H3>"t" keymap now works</H3>
The "t" keymap modifier for dumping keymaps did not function properly.

<H3>Sun NumLock key</H3>
The NumLock key now works with Sun OpenWindows X servers. <I>(bug #316)</I>

<H3>Pop-up keypad placement</H3>
The pop-up keypad now appears in the correct place on the screen on
  startup. <I>(bug #317)</I>

<H3>Core dumps</H3>
Combinations of Blank-fill mode and Insert mode caused some spectacular
  behavior. <I>(bug #319)</I>
<P>Zero-length fields could cause a crash when processing the Read Modified
 command. <I>(reported by Sean Boran)</I>

<H3>String() actions</H3>
String() actions and login strings often entered their input too soon.
<I>(partially fixes bug #308)</I>

<H3>Block cursor and -mono</H3>
The block cursor was often in the wrong color and didn't XOR properly when
used with -mono on color displays.

<H3>Cursor position display <I>(reported by Marc Brett)</I></H3>
The cursor position display on the status line should be 1-origin, not
0-origin.

<H3>Disappearing cursors <I>(reported by Allan L. Bazinet)</I></H3>
The cursor sometimes disappeared when scrolling, and after certain screen
updates.

<H3>ibm-xterm keymap <I>(submitted by Allan L. Bazinet)</I></H3>
Fix to the ibm-xterm keymap.

<H3>Pop-up colors and -rv <I>(reported by David Findlay)</I></H3>
Several pop-ups were unreadable if the default background color was black,
as with the "-rv" switch.

<H3>Obscure error pop-up <I>(reported by Marc Brett)</I></H3>
If no macros menu was defined, Ctrl-Button3 caused a cryptic error
 pop-up.

<H3>Debug font <I>(code submitted by Marc Brett)</I></H3>
The 3270d font displayed the wrong symbol for codes 0xEE and 0xEF.

<H3>Portability</H3>
Added "generic" #ifdefs around the contents of non_blocking(), a common
OS-specific problem area, and around #includes of <memory.h>, then
added "#if defined(apollo)" to globals.h to define them.
<I>(Apollo porting problems reported by Vincent D. Skahan)</I>

<H3>Security problem with trace file names  <I>(reported by Ulrich
Bernhard)</I></H3>
A user could create an "xterm" session by using "/tmp/xxx; xterm" as
a trace file name.

<H3>Keypad position <I>(bug #322)</I></H3>
The keypad wouldn't always follow the main screen around, and didn't always
pop up in the right position.

<H3>Monochrome block cursor <I>(bug #324)</I></H3>
The block cursor didn't work on monochrome NCD displays.

<H3>finnish7 keymap modifer <I>(submitted by Magnus Zakrisson)</I></H3>
Use the appropriate case for the finnish7 keymap modifer.

<H3>Unexpected translation of "^" <I>(bug #327)</I></H3>
Replaced the hidden keyboard translation of "^" to "notsign" with an
explicit CircumNot() action and an entry in the default keymap.
Now the action Key(^) can be used to enter an EBCDIC "^" character from the
keyboard.

<H3>Not an IBM? <I>(bug #328)</I></H3>
Modified the initial TELNET option negotiation to accommodate hosts
that won't DO EOR until they tell us to.

<H3>FreeBSD porting problems <I>(bug #329)</I></H3>
Fixed some minor porting problems on FreeBSD.

<H3>Garbage hostname <I>(bug #326)</I></H3>
The saved hostname was sometimes overwritten when reconnecting.

<H3>Blank-fill problems <I>(original fix submitted by Bob Cronin)</I></H3>
Fixed blank-fill mode on multi-line fields.

<H3>Incorrect screen displays <I>(reported by Johann Tonsing)</I></H3>
Fixed a number of subtle 3270 protocol interpretation problems.

<H3>More negotiation failures <I>(submitted by Christian Murphy)</I></H3>
<P>Fixed initial TELNET negotiation of terminal type for TANDEM hosts.

<H2>Incompatibilities</H2>

<H3>Menus rearranged</H3>
The title on the left-hand menu has been changed from "Quit" to "File",
and several of the entries formerly on the "Options" menu have been
moved there.   This was done to reduce clutter on the "Options" menu.
The entries now under "File" are:
<PRE>
    Entry			Change

    About x3270...		moved from Options
    ---
    Trace Data Stream		moved from Options
    Trace X Events		new
    Save Screen(s) in File	moved from Options
    ---
    Print Screen Text		moved from Options
    Print Window Bitmap		moved from Options
    ---
    Disconnect			from the old Quit menu
    Exit x3270			from the old Quit menu
</PRE>
In addition, the name of the left-hand menu has been changed from
quitMenu to fileMenu.  This affects the parameter to the HandleMenu()
action.

<H3>Resource names changed</H3>
As part of the rationalizing effort for toggles, the resource names of
toggles have been changed to make them consistent with the -set and -clear
command-line switches.
<PRE>
    Old Name		New Name

    x3270.autoWrap	x3270.lineWrap
    x3270.blink		x3270.cursorBlink
    x3270.timing	x3270.showTiming
    x3270.trace		x3270.dsTrace
</PRE>

<H3>PFnn(), PAn() actions deleted</H3>
The separate PFnn() and PAn() actions (PF1(), PF2(), PF3(), PA1(), PA2(),
etc.) are no longer supported.  Their replacement has been present for
some time: PF(<I>n</I>) and PA(<I>n</I>), where <I>n</I> is an integer.  Using custom keymaps
that include the old actions will cause errors at initialization time.

<H3>modifiedSel</H3>
x3270 formerly displayed modified fields in the "select" color.  This
behavior has been made optional, and turned off by default.  To re-enable
it, set the resource "x3270.modifiedSel" to "true".

<H3>Playback files</H3>
Support for playback files has been removed from x3270 itself, and placed
in a standalone utility, playback.  Source for "playback" is provided, as
is a man page, but it is not built as part of the standard Imakefile.
<P>
"playback" runs as a separate process, listening for connections on TCP
port 4001.  x3270 can be connected to it by specifying (for example)
"localhost" as the hostname, and 4001 as the port.  Once a connection has
been accepted, the user can interactively play segments of data from the
playback file to the x3270 session on the other end of the socket.  
<P>
  x3270 previously used a "p:" prefix to distinguish a playback file from a
  host, and an action, PlaybackStep() to step through the file.  Support for
  these has been removed.
<P>
  This was done primarily to reduce complexity and clutter in x3270.  In
  addition, data from playback files can now be played through other
  emulators for comparison.
<HR>
<H2>History of Minor 3.0.3 Releases</H2>
The sections below describe the changes in each minor release of x3270
3.0.3.
<P>
They are primarily of interest if you are upgrading from an earlier minor
release of 3.0.3.
All enhancements and cumulative bug fixes from v3.0.2.5 are already summarized
above.

<H2>Changes in v3.0.3A2 (Alpha Release 2)</H2>

<H3>Bug Fixes in v3.0.3A2</H3>

  Didn't understand 0x11 as the local WSF command.  <I>(reported by Simon
   Graham)</I>
  <P>Need to pass -E on terminal type.  <I>(reported by Simon Graham)</I>
  <P>Need to pass QueryReply in one unit.  <I>(reported by Simon Graham)</I>
  <P>Various QueryReply errors.  <I>(reported and fixed by Simon Graham)</I>
  <P>Need to understand zero WSF length.
  <P>Need to understand ALL extended attribute.
  <P>Need to use current attibrutes for RA order.
  <P>sf.c compile ANSI warnings.  <I>(reported by John R. Kilheffer)</I>
  <P>Misdocumented "-color" as "-3279" in the New.3.0.3 file.  <I>(reported by John
   R. Kilheffer)</I>
  <P>Reverse-video caused unreadable pop-ups.  <I>(reported by Chris Paulson-Ellis)</I>
  <P>Loginstrings continued too soon and dropped.  <I>(reported by Alan Sengillo
   and Bob Wickline)</I>
  <P>Screen refresh broken on 64-bit machines.  <I>(reported by Simon Graham)</I>
  <P>Cursor sometimes disappears when scrolling.

<H2>Changes in v3.0.3B3 (Beta Release 3)</H2>
  The major change is due to subtle problems with the structured field and
  query reply support.  The 3270 extended data stream (structured fields
  and query reply) is now disabled by default; to enable it, use the new
  "-extended" switch.  The "-color" switch implies "-extended".  This is
  so that unless additional options are given, x3270 3.0.3 is at least as
  stable as x3270 3.0.2.  Thus 3.0.3 will be able to replace 3.0.2, since
  it has a number of bug fixes and enhancements outside of these areas,
  without having to fix every extended data stream problem.  (Of course, I
  plan to fix all problems as quickly as I can.)

<H3>Bug Fixes in v3.0.3B3</H3>
    Fix to the ibm-xterm keymap. <I>(submitted by Allan L. Bazinet)</I>
    <P>Some hosts don't like -E on terminal name.  Added "s:" prefix
     to disable the extended data stream for an individual host.  <I>(reported by
     Allan L. Bazinet)</I>
    <P>Info pop-up has the wrong colors with -rv. <I>(reported by David
     Findlay)</I>
    <P>Workaround: olwm is slowing down the main window when it resizes with
     the keypad up.  Worked around by disabling the automatic repositioning of
     the pop-up keypad under olwm. <I>(reported by John R. Kilheffer)</I>
    <P>If no macros menu is defined, Ctrl-Button3 causes a cryptic error
     pop-up. <I>(reported by Marc Brett)</I>
    <P>blankFill was misdocumented in Docs/Resources. <I>(reported by Allan
     L. Bazinet)</I>
    <P>The cursor sometimes disappeared after a screen updates -- this
     has been in all versions since 3.0. <I>(reported by Allan L. Bazinet)</I>
    <P>Query List command with subtype 0x40 was misinterpreted. <I>(reported by
     Sean Boran)</I>
    <P>Zero-length fields can cause a crash when processing the Read Modified
     command. <I>(reported by Sean Boran)</I>

<H3>Enhancements in v3.0.3B3</H3>
    <P>Added Enter key on vertical pop-up keypad. <I>(requested by Dave Wilcox)</I>
    <P>Added word tabs. <I>(suggested by Marc Brett)</I>
    <P>Allow specifying a different macros menu for each host.
     <I>(suggested by Lukas Fetz)</I>
    <P>Added copyright messages to the "About x3270" pop-up.
    <P>Added a state dump to the start of each data stream trace.
    <P>Improved the accuracy of the lock indications on status line.
    <P>Implemented input-inhibit mode after processing a Query Reply.

<H2>Changes in v3.0.3.4 (Full Release)</H2>

<H3>Bug Fixes in v3.0.3.4</H3>
  The command line saved in response to the WM_SAVE_YOURSELF ICCM wasn't
  always properly NULL-terminated.
<P>
Fixed a problem in interpreting the Erase Reset structured field which caused
the screen to be redrawn improperly.  <I>(reported by Mark Raper)</I>
<P>
Loginstrings were being lost after the first Enter (introduced in 3.0.3B3).
<I>(reported by Alan Sengillo)</I>
<P>
Pasting into certain screen configurations in Margined Paste mode caused
x3270 to hang.  <I>(reported by John Baldi)</I>
<P>
Turning on trace mode could cause x3270 to crash with an Xlib error.  <I>(reported
by Marc Aurele La France and Dick Heijne)</I>
<P>
The "Not Connected" message sometimes disappeared shortly after disconnecting
from a host.  <I>(reported by John Baldi)</I>
<P>
Fields with the underline attribute were displayed, even if they were
non-display fields.  <I>(reported by John Baldi)</I>
<P>
Properly defined the behavior of the "-reconnect" option after a failed
connection, and added a "Reconnect" button to the menu.
<I>(requested by Gary Speechley)</I>
<P>
Fixed a problem where a subtle resource definition conflict could
keep Expose events from reaching the main window, leaving it black.
<I>(reported by Dick Heijne)</I>
<P>
The XUSERFILESEARCHPATH environment variable no longer worked.
<I>(reported by Eric Boehm)</I>
<P>
Fixed a problem with NextWord() at the end of a word.
<I>(code submitted by Marc Brett)</I>
<P>
The 3270d font displayed the wrong symbol for codes 0xEE and 0xEF.
<I>(code submitted by Marc Brett)</I>
<P>
The font for the copyright message wasn't defined under OpenWindows 3.2.
<P>
Switching from 3270 mode back to ANSI mode could cause a keyboard hang.
<I>(code submitted by Marc La France)</I>
<P>
Improved the format of the TELNET state dump when data stream tracing is
turned on, so the output can be fed successfully to other 3270 emulators
for testing.
<P>
Added "generic" #ifdefs around the contents of non_blocking(), a common
OS-specific problem area, and around #includes of <memory.h>, then
added "#if defined(apollo)" to globals.h to define them.
<I>(porting problems reported by Vincent D. Skahan)</I>
<P>
Closed a security hole with trace file names.  <I>(reported by Ulrich
Bernhard)</I>

<H3>Enhancements in v3.0.3.4</H3>

Changed the behavior of the Reset action so that if there is typeahead
buffered, it only flushes the typeahead without resetting other modes.
<I>(requested by John Baldi)</I>
<P>
Allow the Enter key to dismiss Info and Error pop-ups.  <I>(requested by John
Baldi)</I>
<P>
Added an "x3270.doConfirms" resource (default true) to control if the "OK"
pop-ups are presented after successful screen printing.
<I>(requested by John Baldi)</I>
<P>
Added an "x3270.numericLock" resource (default false) to control if the
"numeric" field attribute can lock the keyboard on bad data entry.
It turns out that most terminals don't enforce it, and there is no
way (yet) in x3270 to override it from the keyboard.
<I>(requested by kenw)</I>
<P>
Added an "x3270.allowResize" resource (default true) to control whether
or not the window manager can resize the x3270 window.  Setting it to false
keeps mwm from arbitrarily limiting the size of the x3270 window when a large
font is selected, at the expense of no longer being able to use the mouse
to resize the window.
<I>(reported by Marc Brett)</I>
<P>
Added an "fr6k" keymap modifer to allow the Circumflex and Diaeresis keys to
work on RS/6000 AZERTY keyboards.
<I>(requested and debugged by Pierre-Jean Soubies-Camy)</I>
<P>
Added the process and window IDs to the "About x3270" pop-up.
<I>(requested by Robert Molenda)</I>

<H2>Changes in v3.0.3.5 (Second 3.0.3 Release)</H2>

<H3>Bug Fixes in v3.0.3.5</H3>

The keypad wouldn't always follow the main screen around, and didn't always
pop up in the right position.  <I>(bug #322)</I>
<P>The block cursor didn't work on monochrome NCD displays.  <I>(bug #324)</I>
<P>Fixed the finnish7 keymap modifer.  <I>(submitted by Magnus Zakrisson)</I>
<P>Replaced the hidden keyboard translation of "^" to "notsign" with an
explicit CircumNot() action and an entry in the default keymap.
Now the action Key(^) can be used to enter an EBCDIC "^" character from the
keyboard.  <I>(bug #327)</I>
<P>Modified the initial TELNET option negotiation to accommodate hosts
that won't DO EOR until they tell us to.  <I>(bug #328)</I>
<P>Fixed porting problems on FreeBSD.  <I>(bug #329)</I>
<P>The saved hostname was sometimes overwritten when reconnecting.
<I>(bug #326)</I>
<P>Fixed blank-fill mode on multi-line fields.
<I>(original fix submitted by Bob Cronin)</I>
<P>Fixed a number of subtle 3270 protocol interpretation problems.
<I>(reported by Johann Tonsing)</I>
<P>Fixed initial TELNET negotiation of terminal type for TANDEM hosts.
<I>(submitted by Christian Murphy)</I>

<H3>Enhancements in v3.0.3.5</H3>

Added a Keymap() action, similar to xterm's.
<I>(suggested by Matt Cohen)</I>
<P>Added support for right-to-left languages: flipped screen mode,
reverse-input-field mode, and overlaid 16-bit character sets.
Added a character set, font and temporary keymap for Hebrew.
<I>(requested by Roman Mitnitski, who also submitted the font)</I>
<P>Added a fourth parameter to the Ascii() and Ebcdic() actions, which
allow a rectangular screen area to be captured.
<I>(requested by Bill Oliver)</I>
<P>Added an "Execute an Action" entry to the "File" menu, allowing
experimentation with actions without redefining keymaps.
<P>Added an "x3270.secure" resource to disable the "Execute an Action" option
and to keep users from editing the commands that x3270 executes.
<I>(requested by a large contingent of users)</I>
<P>Added an "x3270.noOther" resource to disable the "Other" menus for
host name and font selection.
<I>(requested by Bob Cronin)</I>
<P>Added a trivial "Cut" action (which simply erases the selected region).
<I>(requested by Svein Tjemsland) </I>
<P>Scrollbars now work in 3270 mode.
<P>Eliminated the requirement for the "a:" prefix on ASCII-frontended
hosts, and improved the automatic switching between ANSI and 3270 modes.
<P>Added an "oerrLock" resource to control whether or not to lock the
keyboard after operator errors.
<I>(proposal submitted by Bob Cronin)</I>
<P>Added an "x3270.bellVolume" resource to control the volume of the
terminal bell.
<I>(requested by Dave Saville)</I>

<H2>Changes in v3.0.3.6 (Third 3.0.3 Release)</H2>

<H3>Bug Fixes in v3.0.3.6</H3>

<P>The keypad wouldn't come up initially on OpenWindows.
<I>(bug #330)</I>

<P>The Enter key didn't work after reverting to ANSI mode.
<I>(bug #331)</I>

<P>The "fr6k" keymap was misdefined.

<P>The alternate screen buffer was sometimes being saved in the scroll buffer.

<P>Updated the scrollbar documentation.

<P>Modified some Query Reply responses (hopefully for the better).

<P>Fixed some minor screen-painting bugs.

<P>Allow newlines in actions from scripts. <I>(reported by Benoit Leclerc)</I>

<H3>Enhancements in v3.0.3.6</H3>

<P>Added a set-select() action and improve (but not completely fix) cut/paste
interactions with OpenWindows clients.

<P>Added a "left" option for the keypad position.
<I>(requested by Dave Saville)</I>

<P>Added ISO 6429 foreground color support to ANSI mode.
<I>(requested by Dick Heijne)</I>

<P>Now allocate colors and graphics contexts only as needed in color mode.

<P>Sped up ANSI-mode scrolling.
<I>(requested by Dick Heijne)</I>

<P>Added a resource to disable typeahead.
<I>(requested by Dave Saville)</I>

<P>Now use real bold characters in color.

<P>Added a "german7" keymap.
<I>(submitted by Karlheinz Kandler)</I>

<P>Added support for the TELNET NAWS (Negotiate About Window Size) option.

<P>Added an "-oversize" option to support arbitrarily large screens.
<I>(suggested by Bob A. Kingman)</I>

<P>Added a "debugTracing" resource to enable or disable the "Trace" menu
options. <I>(suggested by Denis Poulain)</I>

<H2>Changes in v3.0.3.7 (Fourth 3.0.3 Release)</H2>

<P>Fixed a Query Reply problem that kept some hosts from using color mode.
<I>(Bug #332)</I>
