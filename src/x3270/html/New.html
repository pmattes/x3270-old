<!DOCTYPE doctype PUBLIC "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <title>x3270 3.3 New Features</title>
  <link href="http://www.w3.org/StyleSheets/Core/Steely" type="text/css" rel="stylesheet">
</head>
<body>
<h1>New Features in x3270 3.3
<hr width="100%"></h1>
x3270 3.3 is the current development line for x3270.
<h2>Changes in x3270 3.3.7, 25. December 2007</h2>
<ul>
  <li>Bug Fixes:
    <ul>
      <li>Fixed the annoying delay when x3270 starts with an error
      pop-up.</li>
      <li>Shortened the manpage so that it displays on non-groff platforms.
      The full text is still available in the HTML version.</li>
      <li>Plugged a number of memory leaks.</li>
    </ul>
  <li>New Features:
    <ul>
      <li>(none)</li>
    </ul>
  </li>
</ul>
<h2>Changes in x3270 3.3.7alpha2, 13. August 2007</h2>
<ul>
  <li>Bug Fixes:
    <ul>
      <li><b>x3270</b> will now compile on platforms that do not support
      IPv6, such as Cygwin.</li>
      <li><b>x3270</b> will no longer crash or spin when the <b>-script</b>
      option is used.</li>
      <li>Shifted function keys should work again (they map to PF13-PF24).</li>
      <li>The screen can now be resized larger, as well as smaller.</li>
      <li>Removed the dependency on <tt>&lt;bitmaps/gray&gt;</tt>, which
      required installing an obscure X11 development package on some
      platforms.</li>
    </ul>
  <li>New Features:
    <ul>
      <li>Added UTF-8 support.  If the current locale specifies UTF-8 encoding,
      then all text output (trace data, script interactions, screen snapshots,
      etc.) will be UTF-8 encoded, and all text input (arguments to the
      <b>Key</b> and <b>String</b> actions, etc.) must be UTF-8 encoded.
      In addition, the NVT-mode xterm/VT100 emulator will expect UTF-8.</li>
      <li>Added a <b>SelectAll</b> action, mapped to Ctrl-A.</li>
    </ul>
  </li>
</ul>
<h2>Changes in x3270 3.3.6, 23. June 2007</h2>
<ul>
  <li>Bug Fixes:
    <ul>
      <li>Fixed the <b>highlighted</b> attribute for individual regions of the
      screen (versus the <b>highlighted</b> field attribute); it had been
      accidentally disabled.</li>
    </ul>
  <li>New Features:
    <ul>
      <li>Added support for IBM Code Page 1047 (<b>-charset cp1047</b>).</li>
      <li>Added proxy support via the <b>-proxy</b> option or the <b>proxy</b>
      resource.</li>
      <li>Modified <i>Blank Fill</i> mode to treat trailing underscore
      chararacters ('<b>_</b>') like blanks when checking for input
      overflow.</li>
      <li><i>Pseudo-Color</i> mode is no more.
      This was the mode that x3270 used when a 3278 model was specified, or
      if the <b>m3279</b> resource were set to <b>False</b>.
      Pseudo-Color assigned colors to regions of the screen based on
      intensity and light-pen selectability, and did not support 3279 colors.
      Now turning off color or selecting a 3278 results in something that
      looks like a 3278 (i.e., it's green).
      To resurrect Pseudo-Color mode, set the following resources:
      <preformat>
      <br>&nbsp;&nbsp;x3270.inputColor: orange<br>
      &nbsp;&nbsp;x3270.boldColor: cyan
      </preformat>
    </ul>
  </li>
</ul>
<h2>Changes in x3270 3.3.5, 1. February 2007</h2>
<ul>
  <li>Bug Fixes:
    <ul>
      <li>Fixed a crash when the user's home directory or the ~/.x3270connect
       file wasn't writeable.</li>
      <li>Fixed some endcases when pasting text that wraps lines and a field
       skip is encountered.</li>
      <li>Fixed the handling of SI characters in cut/pasted text.</li>
      <li>Allow the use of ICU version 3.0 or greater.</li>
      <li>Fixed a scripting hang when the host disconnects during
       <b>Wait(output)</b>).</li>
      <li>Turned the <b>unlockDelay</b> option back on by default.</li>
      <li>Fixed a problem where <b>unlockDelay</b> could result in the
       keyboard never unlocking, if the host unlocked the keyboard
       often enough.</li>
      <li>Added a workaround for very old <i>snprintf</i>()
       implementations.</li>
      <li>Fixed a problem with DBCS input corrupting existing DBCS
       subfields.</li>
      <li>Fixed a problem with the <i>Wait</i> action in the expect glue.
      (Thanks to Jason Howk for the fix.)</li>
      <li>Enlarged the input buffer in x3270if. (Thanks to Igor Klingen for the fix.)</li>
      <li>Fixed a SIGCHLD handler issue on AIX.</li>
      <li>Fixed a problem with CR/LF translation on ASCII file transfers.</li>
    </ul>
  </li>
  <li>New Features:
    <ul>
      <li>Added a <b>-socket</b> option to x3270, s3270 and c3270 to allow a
        script to connect to a Unix-domain socket to control the emulator, and
        added a <b>-p</b> option to x3270if to connect to the socket.</li>
      <li>Added optional support for <b>plugins</b>, with a first plugin to
        implement command history on VM/CMS and TSO hosts.</li>
      <li>Allow arbitrary color names (#rrggbb) to be used in color
	schemes.</li>
      <li>Added support for hierarchical macro menus.</li>
      <li>Added an <b>XkSelector</b> resource to allow transparent
       support of non-English keyboards.</li>
      <li>Added preliminary support the 16-bit display fonts and the Persian
       character set.</li>
      <li>Added <b>Title</b> and <b>WindowState</b> actions to allow the x3270
       window title and icon state to bw changed respectively.</li>
    </ul>
  </li>
</ul>
<h2>Changes in x3270 3.3.4, 10. April 2005</h2>
<ul>
  <li>Bug Fixes:
    <ul>
      <li>The code once again builds on Cygwin and other systems not supporting
       IPv6.</li>
      <li>The <b>-xrm</b> option works again in x3270.</li>
      <li>The <b>-name</b> X Toolkit option works with x3270, though
       not yet with app-defaults files.</li>
      <li>Removed spurious 'no child' error messages from pr3287 on some
       systems.</li>
      <li>Removed unintended blank-line suppression from the output of
       <b>PrintText html string</b>.</li>
      <li>Restored some missing keymap definitions (<b>rlx</b>, <b>ow</b>)
      and some missing lines from other keymap definitions (<b>apl</b>).</li>
      <li>Restored the automatic keyboard unlock delay when processing a
       macro or string.  This allows macros and strings with embedded AID
       sequences to work with hosts that unlock the keyboard before they
       finish processing a command.  Scripts are presumed to be able to
       figure out when the host is finished, or can set the <b>unlockDelay</b>
       resource to <b>true</b> get the delay all the time.</li>
      <li>Fixed an apparent hang (actually just extreme slowness) when the
       host sends a message larger than 4 Kbytes on an SSL tunnel.</li>
      <li>Removed spurious 'Wait timed out' errors in the <b>Wait</b>
       action.</li>
    </ul>
  </li>
  <li>New Features:
    <ul>
     <li>Added a newer, more flexible version of Don Russell's RPQNAMES
      support.</li>
     <li>Added support for IPv6.</li>
     <li>Added an <b>oldclick</b> keymap to restore the pre-3.3 mouse click
      behavior.</li>
    </ul>
  </li>
</ul>
<h2>Changes in x3270 3.3.3b2, 1. February 2005</h2>
<ul>
  <li>Bug Fixes:
    <ul>
       <li>Reduced the Resident Set Size (RSS) of x3270 from about 40 MBytes to
        less than 4 MBytes.  This was a bug in how compiled-in app-defaults
        files were generated. </li>
      <li>Got separate app-defaults files (<b>configure --enable-app-defaults</b>)
       to work again.</li>
      <li>Fixed a crash when a login macro is used in NVT mode or when the
       host un-negotiates TN3270E mode.</li>
      <li>Fixed the titles of the Copyright and Configuration pop-ups.</li>
      <li>Temporarily disabled the RPQNAMES Query Reply.  It was causing IBM
       QMF to crash.  It can be re-enabled by adding <b>#define X3270_RPQNAMES
       1</b> to <b>conf.h</b>.  Hopefully a proper fix can be found shortly.
       </li>
    </ul>
  </li>
  <li>New Features:
    <ul>
    </ul>
  </li>
</ul>
<h2>Changes in x3270 3.3.3b1, 31. December 2004</h2>
<ul>
  <li>Bug Fixes:
    <ul>
      <li>Fixed the <b>Transfer()</b> action, which didn't work at all.</li>
      <li>Fixed the default primary/alternate screen size (it was alternate,
       it's supposed to be primary).</li>
      <li>Fixed c3270 color support with ncurses and 80/132 screen-size
       switching.
       Sometimes only one of the screen sizes had color.</li>
      <li>Fixed a memory leak in pr3287 when the <b>-reconnect</b> option
       is used. (<i>Thanks to Marcelo Lemos for the fix.</i>)</li>
      <li>Fixed the output of NVT-mode ANSI line-drawing characters in the
       <b>Ascii()</b> scripting action.
       These were formerly all output as blanks; now they are output in
       the same was as x3270 3.2.</li>
      <li>Fixed the display of NVT-mode ANSI line-drawing characters when
       x3270 is using a 3270 font.</li>
      <li>Fixed the display of DBCS blanks, which sometimes displayed as
       'undefined' characters.</li>
      <li>Fixed DBCS character display with fonts whose maximum bounds are
       larger than their reported line-spacing bounds.</li>
      <li>Fixed <b>make depend</b>.</li>
      <li>Fixed <b>x3270_glue.expect</b>, which got confused when there was
       a whitespace-delimited double-quote in the emulator output.</li>
      <li>Fixed crashes when the entire File or Options menus were suppressed.
       </li>
      <li>Fixed a scripting hang when an UNBIND command arrived while an AID
       was pending.</li>
      <li>Fixed a problem with the incomplete processing of a NULLing Program
       Tab order, which could leave formatting artifacts on the screen.</li>
      <li>Removed &lt;subchar1&gt; clauses in two of the <b>.ucm</b> files
       that prevents later versions of ICU's <b>makeconv</b> from accepting
       them, and removed DOS carriage-return characters from the CP837
       <b>.ucm</b> file.</li>
      <li>Corrected some DFT-mode file upload problems: corrected the data
       length, and corrected an empty-buffer problem when the file size was
       an even multiple of the buffer size.</li>
      <li>Corrected a DBCS conversion problem with ICU 3.0.</li>
      <li>Added variable buffer-size support to DFT file transfers.</li>
      <li>Corrected a line-drawing character bug in c3270.</li>
      <li>Fixed a buffer overflow problem in the <b>ReadBuffer</b> action.</li>
      <li>Fixed garbage characters generated for APL data by the <b>Ascii</b>
       and <b>ReadBuffer</b> actions.</li>
      <li>Allow 0 timeouts in <b>Wait</b> actions.</li>
    </ul>
    </ul>
  </li>
  <li>New Features:
    <ul>
     <li>Added support for <i>dead</i> keys (acute, grave, circumflex, tilde,
      diaeresis) to the default keymap, and improved the Latin-1 compose
      map. (<i>Thanks to Marcelo Lemos for the change.</i>)</li>
     <li>Added new actions for improved mouse interactions, and made them the
      default.  Button 1 now moves the cursor, without the Shift key.</li>
      <li>Added support for DBCS in pr3287, but only when started from an
       x3270 session.</li>
     <li>Added Don Russell's RPQNAMES support.</li>
     <li>Removed Minolta-copyrighted code, because of licensing problems.</li>
     <li>Added an <b>aidWait</b> toggle to allow AID actions (<b>Clear</b>,
      <b>Enter</b>, <b>PA</b> and <b>PF</b>) to complete immediately without
      waiting for the host to unlock the keyboard, and a <b>Wait(Unlock)</b>
      action action to block a script until the keyboard is unlocked,
      regardless of the state of the new toggle.</li>
     <li>Turned off the old scripting hack the delayed actually unlocking the
      keyboard for 50ms after the host says we can unlock it.  Added a
      <b>unlockDelay</b> resource, which can be set to <b>true</b> to turn
      it back on.</li>
     <li>Added a <b>dftBufferSize</b> resource to set the default DFT
      buffer size.</li>
     <li>Added a <b>Save Screen Text</b> menu option to save the screen image
      in a file, optionally in HTML.</li>
     <li>Added options to the PrintText action to save to a file, to save HTML,
      and to return the text as script data.</li>
    </ul>
  </li>
</ul>
<h2>Changes in x3270 3.3.2, 1. December 2003</h2>
<ul>
  <li>Bug Fixes:
    <ul>
      <li>Corrected a screen-redraw crash when using <b>fixedSize</b> and
       <b>xim</b>.</li>
      <li>Corrected a problem in <b>x3270_glue.expect</b>, which caused
       Tcl syntax errors if a string began with a dash. <i>Thanks to David
       Taylor for the fix.</i></li>  
      <li>Fixed a problem with DBCS input when using a single DBCS/SBCS
       character set.</li>
      <li>Made DBCS encoding recognition automatic wherever possible, leaving
       the <b>-km</b> option for cases when x3270 can't figure it out from the
       locale.</li>
    </ul>
  </li>
  <li>New Features:
    <ul>
     <li>Added support for Cyrillic keysyms to the <b>Default()</b>
      action.</li>
     <li>Added an 'unlocked' icon for unencrypted connections, if x3270 is
      built with SSL/TLS support.</li>
     <li>Error messages are now written to the trace file.</li>
     <li>The response to the TELNET TIMING MARK option has been changed to
      make it compatible with the majority of TELNET clients.
      The response to DO TIMING MARK is now WONT TIMING MARK.
      To restore the previous behavior (responding with WILL TIMING MARK,
      originally derived from the BSD TELNET client), set the resource
      <b>x3270.bsdTm</b> to <b>true</b>.
    </ul>
  </li>
</ul>
<h2>Changes in x3270 3.3.1alpha10, 29. August 2003</h2>
<ul>
  <li>Bug Fixes:
    <ul>
      <li>Made nondisplay fields invisible to the <b>Ascii()</b> action.</li>
      <li>Corrected start-field values at the beginning of data stream traces
       and in the 3270 Read Buffer response.</li>
      <li>Corrected a tight loop in the macro error cancellation logic.</li>
      <li>Corrected a crash when connecting to a host and there is no menu
       bar visible.</li>
      <li>Corrected crashes in monochrome mode (<b>-mono</b>) and
       pseudo-color mode (<b>-model 3278</b>).
    </ul>
  </li>
  <li>New Features:
    <ul>
     <li>Added a <b>ReadBuffer()</b> action to dump the entire contents of
      the 3270 buffer, including field attributes and extended attributes.</li>
     <li>Added support for <b>suppress</b> resources for each menu item.
      If set to <b>True</b>, that menu item will not appear.</li>
     <li>Added a <b>suppressActions</b> resource, a list of the names of
      actions to disable.  This is primarily for controlled environments where
      the user does not have access to the <b>x3270</b> command line, but can
      edit keymap definitions.</li>
      <li>Added a <b>Setverbose</b> function to <tt>x3270_glue.expect</tt>
       to allow verbosity to be changed on the fly.
       <i>(Courtesy of David Taylor.)</i></li>
      <li>Added the ability to define resources in an environment variable,
       <b>$X3270RDB</b>.  The environment variable overrides values set in
       the profile file, but is overridden by command-line options.</li>
      <li>Added a <b>fixedSize</b> resource to force the <b>x3270</b> to a
       particular size.  <b>fixedSize</b> has the value
       <i>width</i><b>x</b><i>height</i>, in pixels.
       The 3270 display will float in the center of the window, if need
       be.</li>
      <li>Added a new keypad position (<b>x3270.keypad</b>):
       <b>insideRight</b>.  This positions the keypad on top of the upper
       right-hand corner of the <b>x3270</b> window, just under the keypad
       button on the menu bar.</li>
    </ul>
  </li>
</ul>
<h2>Changes in x3270 3.3.1alpha9, 24. July 2003</h2>
<ul>
  <li>Bug Fixes:
    <ul>
      <li>DBCS character set names are displayed only when DBCS support is
       built into x3270.</li>
      <li>Removed the concept of 'per-host' resources.  Use profiles for
       this.</li>
      <li>Fixed idle commands.  They were pretty much hopeless in 3.3.1alpha8
       and 3.2.20.</li>
      <li>Fixed a Unicode conversion crash.</li>
      <li>Fixed a bug in processing the Modify Field order, which would cause
       the character set attribute for the field to be accidentally reset to
       the default.</li>
    </ul>
  </li>
  <li>New Features:
    <ul>
      <li>User-specified lists (character sets, hosts, fonts, color schemes)
       can now be organized into sub-lists.  The name <b>Bob>Fred>Tony</b>
       specifies that there is a sub-list called <b>Bob</b>, which contains a
       sub-list <b>Fred</b>, which contains the item <b>Tony</b>.</li>
       <li>The TELNET START-TLS option is now supported.</li>
    </ul>
  </li>
</ul>
<h2>Changes in x3270 3.3.1alpha8, 15. April 2003</h2>
<ul>
  <li>Bug Fixes:</li>
  <ul>
    <li>Builds cleanly on Linux with <tt>-Wall -ansi -pedantic</tt>.</li>
    <li>Builds without OpenSSL libraries being present.</li>
    <li>Correctly records Field Attributes in the initial screen snapshot
in a Data Stream Trace file.</li>
    <li>Auto-Skip fields work properly.</li>
    <li>"Dead" positions in DBCS fields are handled correctly.</li>
    <li>Invalid host DBCS characters are handled better and are displayed
in the Data Stream Trace file.</li>
    <li>The <b>Erase</b> action now works properly with DBCS characters.</li>
    <li>The <b>Visible Control Characters</b> toggle now works properly.<br>
    </li>
  </ul>
</ul>
<ul>
  <li>New Features:</li>
  <ul>
    <li>The <b>Erase</b> action is now the default for the <b>BackSpace</b>
key.</li>
    <li>Four more Japanese host code pages have been added: 930, 939, 1390
and 1399. This uses new support for combined SBCS/DBCS code pages.<br>
    </li>
  </ul>
</ul>
<h2>Changes in x3270 3.3.1, 14. February 2003</h2>
<ul>
 <li>Bug Fixes:   
    <ul>
   <li>(Same as x3270 3.2.20)</li>
  
    </ul>
 </li>
 <li>New Features:   
    <ul>
   <li>DBCS support for Simplfied Chinese and Japanese, including integration
    with XIM.</li>
   <li>Tunneled SSL support added (entire Telnet session inside of an SSL
    tunnel).  Uses the OpenSSL library.  Toggled with an 'l:' (ell) prefix
on     the hostname.</li>
   <li>A <i>Visible Control Characters</i> toggle replaces the 3270d Debug
    Font.</li>
   <li><b>About x3270</b> pop-up split into three smaller pieces.</li>
  
    </ul>
 </li>
</ul>
<br>
</body>
</html>
