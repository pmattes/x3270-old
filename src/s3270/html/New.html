<!DOCTYPE doctype PUBLIC "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <title>s3270 3.3 New Features</title>
  <link href="http://www.w3.org/StyleSheets/Core/Steely" type="text/css"
 rel="stylesheet">
</head>
<body>
<h1>New Features in s3270 3.3
<hr width="100%"></h1>
s3270 3.3 is the current development line for s3270.
<h2>Changes in s3270 3.3.7, Nn. Month 2007</h2>
<ul>
  <li>Bug Fixes:
    <ul>
      <li>(none)</li>
    </ul>
  <li>New Features:
    <ul>
      <li>Added UTF-8 support.  If the current locale specifies UTF-8 encoding,
      then all text output (trace data, screen snapshots, the <b>Ascii</b>
      and <b>ReadBuffer(Ascii)</b> actions, etc.) will be UTF-8 encoded, and
      all text input (arguments to the <b>Key</b> and <b>String</b> actions,
      etc.) must be UTF-8 encoded.
      In addition, the NVT-mode xterm/VT100 emulator will expect UTF-8.
      <p><b>NOTE</b>: If you were were previously running <b>s3270</b> in a
      UTF-8 locale, <i>this is an incompatible change</i>.
      To ensure the previous behavior, set your locale to <b>C</b> before
      starting <b>s3270</b>.
      </li>
    </ul>
  </li>
</ul>
<h2>Changes in s3270 3.3.6, 23. June 2007</h2>
<ul>
  <li>Bug Fixes:
    <ul>
      <li>The code now builds with ICU 3.6.</li>
    </ul>
  </li>
  <li>New Features:
    <ul>
      <li>Added proxy support via the <b>-proxy</b> option or the <b>proxy</b>
      resource.</li>
      <li>Modified <i>Blank Fill</i> mode to treat trailing underscore
      chararacters ('<b>_</b>') like blanks when checking for input
      overflow.</li>
      <li>Removed the <b>-mono</b> option and <b>mono</b> resource.</li>
    </ul>
  </li>
</ul>
<h2>Changes in s3270 3.3.5, 1. February 2007</h2>
<ul>
  <li>Bug Fixes:
    <ul>
      <li>Fixed a scripting hang when the host disconnects during
       <b>Wait(output)</b>).</li>
      <li>Fixed a problem where <b>unlockDelay</b> could result in the
       keyboard never unlocking, if the host unlocked the keyboard
       often enough.</li>
      <li>Added a workaround for very old <i>snprintf</i>()
       implementations.</li>
      <li>Enlarged the input buffer in x3270if. (Thanks to Igor Klingen for the fix.)</li>
      <li>Fixed a problem with CR/LF translation on ASCII file transfers.</li>
    </ul>
  </li>
  <li>New Features:
    <ul>
      <li>Added a <b>-socket</b> option to x3270, s3270 and c3270 to allow a
        script to connect to a Unix-domain socket to control the emulator, and
        added a <b>-p</b> option to x3270if to connect to the socket.</li>
    </ul>
  </li>
</ul>
<h2>Changes in s3270 3.3.4, 10. April 2005</h2>
<ul>
  <li>Bug Fixes:
    <ul>
      <li>The code once again builds on Cygwin and other systems not supporting
       IPv6.</li>
      <li>Removed unintended blank-line suppression from the output of
       <b>PrintText html string</b>.</li>
      <li>Restored the automatic keyboard unlock delay when processing a
       macro or string.  This allows macros and strings with embedded AID
       sequences to work with hosts that unlock the keyboard before they
       finish processing a command.  Scripts are presumed to be able to
       figure out when the host is finished, or can set the <b>unlockDelay</b>
       resource to <b>true</b> get the delay all the time.</li>
      <li>Fixed an apparent hang (actually just extreme slowness) when the
       host sends a message larger than 4 Kbytes on an SSL tunnel.</li>
      <li>Removed spurious 'Wait timed out' errors in the <b>Wait</b>
       action.</li>
    </ul>
  </li>
  <li>New Features:
    <ul>
     <li>Added a newer, more flexible version of Don Russell's RPQNAMES
      support.</li>
     <li>Added support for IPv6.</li>
    </ul>
  </li>
</ul>
<h2>Changes in s3270 3.3.3, 31. December 2004</h2>
<ul>
  <li>Bug Fixes:
    <ul>
      <li>Fixed the <b>Transfer()</b> action, which didn't work at all.</li>
      <li>Fixed the default primary/alternate screen size (it was alternate,
       it's supposed to be primary).</li>
      <li>Fixed the output of NVT-mode ANSI line-drawing characters in the
       <b>Ascii()</b> scripting action.
       These were formerly all output as blanks; now they are output in
       the same was as x3270 3.2.</li>
      <li>Fixed <b>x3270_glue.expect</b>, which got confused when there was
       a whitespace-delimited double-quote in the emulator output.</li>
      <li>Fixed a scripting hang when an UNBIND command arrived while an AID
       was pending.</li>
      <li>Fixed a problem with the incomplete processing of a NULLing Program
       Tab order, which could leave formatting artifacts on the screen.</li>
      <li>Removed &lt;subchar1&gt; clauses in two of the <b>.ucm</b> files
       that prevents later versions of ICU's <b>makeconv</b> from accepting
       them, and removed DOS carriage-return characters from the CP837
       <b>.ucm</b> file.</li>
      <li>Corrected some DFT-mode file upload problems: corrected the data
       length, and corrected an empty-buffer problem when the file size was
       an even multiple of the buffer size.</li>
      <li>Corrected a DBCS conversion problem with ICU 3.0.</li>
      <li>Added variable buffer-size support to DFT file transfers.</li>
      <li>Fixed a buffer overflow problem in the <b>ReadBuffer</b> action.</li>
      <li>Fixed garbage characters generated for APL data by the <b>Ascii</b>
       and <b>ReadBuffer</b> actions.</li>
      <li>Allow 0 timeouts in <b>Wait</b> actions.</li>
    </ul>
    </ul>
  </li>
  <li>New Features:
    <ul>
     <li>Added Don Russell's RPQNAMES support.</li>
     <li>Removed Minolta-copyrighted code, because of licensing problems.</li>
     <li>Added an <b>aidWait</b> toggle to allow AID actions (<b>Clear</b>,
      <b>Enter</b>, <b>PA</b> and <b>PF</b>) to complete immediately without
      waiting for the host to unlock the keyboard, and a <b>Wait(Unlock)</b>
      action action to block a script until the keyboard is unlocked,
      regardless of the state of the new toggle.</li>
     <li>Turned off the old scripting hack the delayed actually unlocking the
      keyboard for 50ms after the host says we can unlock it.  Added a
      <b>unlockDelay</b> resource, which can be set to <b>true</b> to turn
      it back on.</li>
     <li>Added a <b>dftBufferSize</b> resource to set the default DFT
      buffer size.</li>
     <li>Added options to the PrintText action to save to a file, to save HTML,
      and to return the text as script data.</li>
    </ul>
  </li>
</ul>
<h2>Changes in s3270 3.3.2, 1. December 2003</h2>
<ul>
  <li>Bug Fixes:
    <ul>
     <li>Correct a crash which made alpha10 pretty much useless.</li>
     <li>Added a '-km' option to allow DBCS to work properly.</li>
    </ul>
  </li>
  <li>Enhancements:
    <ul>
      <li>Added a <b>Query()</b> action to report on the BIND PLU name and
       connection state.</li>
      <li>Error messages are now written to the trace file.</li>
      <li>The response to the TELNET TIMING MARK option has been changed to
       make it compatible with the majority of TELNET clients.
       The response to DO TIMING MARK is now WONT TIMING MARK.
       To restore the previous behavior (responding with WILL TIMING MARK,
       originally derived from the BSD TELNET client), set the resource
       <b>x3270.bsdTm</b> to <b>true</b>.
    </ul>
  </li>
</ul>
<h2>Changes in s3270 3.3.1alpha10, 6. September 2003</h2>
<ul>
  <li>Bug Fixes:
    <ul>
      <li>Made nondisplay fields invisible to the <b>Ascii()</b> action.</li>
      <li>Corrected start-field values at the beginning of data stream traces
       and in the 3270 Read Buffer response.</li>
      <li>Corrected a tight loop in the macro error cancellation logic.</li>
      <li>Fixed idle commands.  They were pretty much hopeless in 3.2.20.</li>
      <li>Fixed a Unicode conversion crash.</li>
      <li>Fixed a bug in processing the Modify Field order, which would cause
       the character set attribute for the field to be accidentally reset to
       the default.</li>
      <li>Builds cleanly on Linux with <tt>-Wall -ansi -pedantic</tt>.</li>
      <li>Builds without OpenSSL libraries being present.</li>
      <li>Correctly records Field Attributes in the initial screen snapshot
in a Data Stream Trace file.</li>
      <li>Auto-Skip fields work properly.</li>
      <li>"Dead" positions in DBCS fields are handled correctly.</li>
      <li>Invalid host DBCS characters are handled better and are displayed
in the Data Stream Trace file.</li>
      <li>The <b>Erase</b> action now works properly with DBCS characters.</li>
    </ul>
  </li>
  <li>New Features:
    <ul>
     <li>Added a <b>ReadBuffer()</b> action to dump the entire contents of
      the 3270 buffer, including field attributes and extended attributes.</li>
     <li>Added support for <b>suppress</b> resources for each menu item.
      If set to <b>True</b>, that menu item will not appear.</li>
     <li>Added a <b>suppressActions</b> resource, a list of the names of
      actions to disable.  This is primarily for controlled environments where
      the user does not have access to the <b>s3270</b> command line, but can
      edit keymap definitions.</li>
      <li>Added a <b>Setverbose</b> function to <tt>x3270_glue.expect</tt>
       to allow verbosity to be changed on the fly.
       <i>(Courtesy of David Taylor.)</i></li>
      <li>The TELNET START-TLS option is now supported.</li>
      <li>Four more Japanese host code pages have been added: 930, 939, 1390
       and 1399. This uses new support for combined SBCS/DBCS code pages.</li>
      <li>DBCS support for Simplfied Chinese and Japanese, including integration
       with XIM.</li>
      <li>Tunneled SSL support added (entire Telnet session inside of an SSL
       tunnel).  Uses the OpenSSL library.  Toggled with an 'L:' prefix
        on the hostname.</li>
    </ul>
  </li>
</ul>
</body>
</html>
