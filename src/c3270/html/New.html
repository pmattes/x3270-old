<!DOCTYPE doctype PUBLIC "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
      
  <meta http-equiv="Content-Type"
 content="text/html; charset=iso-8859-1">
      
  <meta name="Author" content="Paul Mattes">
      
  <meta name="GENERATOR"
 content="Mozilla/4.5 [en] (WinNT; U) [Netscape]">
  <title>c3270 3.3 New Features</title>
             
  <link href="http://www.w3.org/StyleSheets/Core/Steely" type="text/css"
 rel="stylesheet">
</head>
<body>
<h1>New Features in c3270 3.3
<hr width="100%"></h1>
c3270 3.3 is the current development line for c3270.
It is functionally equivalent
to c3270 3.2.20, with the addition of SSL (Secure Sockets Layer) support and
DBCS (Double Byte Character Set) support for East Asian languages -- Chinese,
Japanese and Korean.
<p>The DBCS work required a significant change in the internal workings of
c3270. For those familiar with the source code, the change was to store EBCDIC
codes internally, and to dispense with the confusing CG-code representation
of the 3270 display. This required changing all of the logic that manipulates
field attributes, as well as the logic that translates the host output, keyboard
input, and display output.</p>
<h2>Changes in c3270 3.3.3, 31. December 2004</h2>
<ul>
  <li>Bug Fixes:
    <ul>
      <li>Fixed the <b>Transfer()</b> action, which didn't work at all.</li>
      <li>Fixed the default primary/alternate screen size (it was alternate,
       it's supposed to be primary).</li>
      <li>Fixed c3270 color support with ncurses and 80/132 screen-size
       switching.
       Sometimes only one of the screen sizes had color.</li>
      <li>Fixed the output of NVT-mode ANSI line-drawing characters in the
       <b>Ascii()</b> scripting action.
       These were formerly all output as blanks; now they are output in
       the same was as x3270 3.2.</li>
      <li>Fixed <b>make depend</b>.</li>
      <li>Fixed <b>x3270_glue.expect</b>, which got confused when there was
       a whitespace-delimited double-quote in the emulator output.</li>
      <li>Fixed a scripting hang when an UNBIND command arrived while an AID
       was pending.</li>
      <li>Fixed a problem with the incomplete processing of a NULLing Program
       Tab order, which could leave formatting artifacts on the screen.</li>
      <li>Removed &lt;subchar1&gt; clauses in two of the <b>.ucm</b> files
       that prevents later versions of ICU's <b>makeconv</b> from accepting
       them, and removed DOS carriage-return characters from the CP837
       <b>.ucm</b> file.</li>
      <li>Corrected some DFT-mode file upload problems: corrected the data
       length, and corrected an empty-buffer problem when the file size was
       an even multiple of the buffer size.</li>
      <li>Corrected a DBCS conversion problem with ICU 3.0.</li>
      <li>Added variable buffer-size support to DFT file transfers.</li>
      <li>Corrected a line-drawing character bug in c3270.</li>
      <li>Fixed a buffer overflow problem in the <b>ReadBuffer</b> action.</li>
      <li>Fixed garbage characters generated for APL data by the <b>Ascii</b>
       and <b>ReadBuffer</b> actions.</li>
      <li>Allow 0 timeouts in <b>Wait</b> actions.</li>
    </ul>
    </ul>
  </li>
  <li>New Features:
    <ul>
     <li>Added Don Russel's RPQNAMES support.</li>
     <li>Removed Minolta-copyrighted code, because of licensing problems.</li>
     <li>Added an <b>aidWait</b> toggle to allow AID actions (<b>Clear</b>,
      <b>Enter</b>, <b>PA</b> and <b>PF</b>) to complete immediately without
      waiting for the host to unlock the keyboard, and a <b>Wait(Unlock)</b>
      action action to block a script until the keyboard is unlocked,
      regardless of the state of the new toggle.</li>
     <li>Turned off the old scripting hack the delayed actually unlocking the
      keyboard for 50ms after the host says we can unlock it.  Added a
      <b>unlockDelay</b> resource, which can be set to <b>true</b> to turn
      it back on.</li>
     <li>Added a <b>dftBufferSize</b> resource to set the default DFT
      buffer size.</li>
     <li>Added options to the PrintText action to save to a file, to save HTML,
      and to return the text as script data.</li>
    </ul>
  </li>
</ul>
<h2>Changes in c3270 3.3.2, 1. December 2003</h2>
<ul>
  <li>Bug Fixes:
   <ul>
    <li>Made <b>configure</b> more robust when it can't find one or the other
     of <b>libncurses</b> or <b>ncurses.h</b>.</li>
    <li>Got automatic pr3287 start-up (<b>-printlu</b>) working again.</li>
    <li>Corrected a problem in <b>x3270_glue.expect</b>, which caused
     Tcl syntax errors if a string began with a dash. <i>Thanks to David
     Taylor for the fix.</i></li>
   </ul>
  </li>
  <li>New Features:
   <ul>
    <li>Error messages are now written to the trace file.</li>
    <li>The response to the TELNET TIMING MARK option has been changed to
     make it compatible with the majority of TELNET clients.
     The response to DO TIMING MARK is now WONT TIMING MARK.
     To restore the previous behavior (responding with WILL TIMING MARK,
     originally derived from the BSD TELNET client), set the resource
     <b>x3270.bsdTm</b> to <b>true</b>.
   </ul>
  </li>
</ul>
<h2>Changes in c3270 3.3.1alpha10, 7. September 2003</h2>
<ul>
  <li>Bug Fixes:
   <ul>
    <li>Made nondisplay fields invisible to the <b>Ascii()</b> action.</li>
    <li>Corrected start-field values at the beginning of data stream traces
     and in the 3270 Read Buffer response.</li>
    <li>Corrected a tight loop in the macro error cancellation logic.</li>
   </ul>
  </li>
  <li>New Features:
   <ul>
    <li>Added a <b>ReadBuffer()</b> action to dump the entire contents of
     the 3270 buffer, including field attributes and extended attributes.</li>
    <li>Added a <b>suppressActions</b> resource, a list of the names of
     actions to disable.  This is primarily for controlled environments where
     the user does not have access to the <b>c3270</b> command line, but can
     edit keymap definitions.</li>
    <li>Added a <b>Setverbose</b> function to <tt>x3270_glue.expect</tt>
     to allow verbosity to be changed on the fly.
     <i>(Courtesy of David Taylor.)</i></li>
   </ul>
  </li>
</ul>
<h2>Changes in c3270 3.3.1alpha9, 25. July 2003</h2>
<ul>
  <li>Bug Fixes:
   <ul>
    <li>Removed the concept of 'per-host' resources.  Use profiles for
     this.</li>
    <li>Fixed idle commands.  They were pretty much hopeless in 3.3.1alpha8
     and 3.2.20.</li>
    <li>Fixed a bug in processing the Modify Field order, which would cause
     the character set attribute for the field to be accidentally reset to
     the default.</li>
   </ul>
  </li>
  <li>New Features:
   <ul>
    <li>The TELNET START-TLS option is now supported.</li>
   </ul>
  </li>
</ul>
<h2>Changes in c3270 3.3.1alpha8, 15. April 2003</h2>
<ul>
  <li>Bug Fixes:</li>
  
  <ul>
    <li>The EBCDIC <i>notsign</i> '&not;' can now be entered with <tt>Ctrl-A,
^</tt> (it formerly caused an error message).<br>
    </li>
    <li>3270-specific and NVT-mode-specific keymaps (e.g., keymap.base.3270)
are no longer ignored.</li>
    <li>When there is an ambiguous multi-character match in a keymap, the
correct matching keymap entry is now displayed in the keyboard event trace
file.&nbsp;</li>
    <li>Builds cleanly on Linux with <tt>-Wall -ansi -pedantic</tt>.</li>
    <li>Builds without OpenSSL libraries being present.</li>
    <li>Correctly records Field Attributes in the initial screen snapshot
in a Data Stream Trace file.</li>
    <li>Auto-Skip fields work properly.</li>
    <li>"Dead" positions in DBCS fields are handled correctly.</li>
    <li>Invalid host DBCS characters are handled better and are displayed
in the Data Stream Trace file.</li>
    <li>The <b>Erase</b> action now works properly with DBCS characters.</li>
    <li>The <b>Visible Control Characters</b> toggle now works properly.</li>
  
  </ul>
  <li>New Features:</li>
  
  <ul>
    <li><tt>Ctrl-A, a</tt> is now mapped onto the <b>Attn</b> action in the
default 3270 keymap.</li>
    <li>Four more Japanese host code pages have been added: 930, 939, 1390
and 1399. This uses new support for combined SBCS/DBCS code pages.</li>
  
  </ul>
</ul>
<h2>Changes in c3270 3.3.1, 14. February 2003</h2>
<ul>
 <li>Bug Fixes:        
    <ul>
   <li>(Same as c3270 3.2.20)</li>
       
    </ul>
 </li>
 <li>New Features:        
    <ul>
   <li>DBCS support for Simplfied Chinese and Japanese, including integration
    with XIM.</li>
   <li>Tunneled SSL support added (entire Telnet session inside of an SSL
    tunnel).  Uses the OpenSSL library.  Toggled with an 'l:' (ell) prefix
on     the hostname.</li>
       
    </ul>
 </li>
</ul>
<br>
<br>
</body>
</html>
